/**
 *
 * @package    local_mb2builder
 * @copyright  2018 - 2025 Mariusz Boloz (lmsstyle.com)
 * @license    PHP and HTML: http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later. Other parts: http://themeforest.net/licenses
 */ jQuery(document).ready(function(t){var n,e,a,i,o,s,l,r;(n=function(){t(".pagelayout-mb2builder_form .mform").on("submit",function(n){var e=JSON.stringify(mb2pb_LayoutData().setData(!0));"cancel"===n.originalEvent.submitter.name||e.match("mb2pb_row")||n.preventDefault(),t('[name="content"]').val(e),t('[name="democontent"]').val(e)})},e=function(){t(document).on("click",".mb2-pb-reslink",function(n){mb2pb_Helper().screenSize(t(this).attr("data-device"))})},a=function(){t(document).on("click","#mb2-pb-page-settings button",function(n){mb2pb_Helper().checkModal(n)&&(mb2pb_Helper().modalHelper().mb2pb_modalShow(t(this).attr("data-modal")),i())}),t(document).on("click",'#mb2-pb-modal-page-settings .btn-danger, [data-dismiss="mb2modal"]',function(n){mb2pb_Helper().modalHelper().mb2pb_modalHide(t(this))}),t(document).on("click","#mb2-pb-modal-page-settings .btn-success",function(n){o(),mb2pb_Helper().modalHelper().mb2pb_modalHide(t(this))}),t(document).on("input","#mb2pb-pagesettingspagecss",function(n){l(t(this).val())}),t(document).on("input","#mb2pb-pagesettingsheaderstyle",function(n){r(t(this).val())})},i=function(){for(var n=s(),e=0;e<n.length;e++)t('[name="mb2pb-pagesettings'+n[e]+'"]').val(t('input[name="'+n[e]+'"]').val())},o=function(){for(var n=s(),e=0;e<n.length;e++){var a='[name="mb2pb-pagesettings'+n[e]+'"]';t('input[name="'+n[e]+'"]').val(t(a).val()),"pagecss"===n[e]&&l(t(a).val()),"headerstyle"===n[e]&&r(t(a).val())}},s=function(){return["heading","footer","headerstyle","pagecss","menu","tgsdb"]},l=function(n){t(mb2pb_Selectors().builder.demoiframe).contents().find("head").find("#css-mb2-page-builder").text(n)},r=function(n){for(var e=["light","light2","dark","transparent","transparent_light"],a=t(mb2pb_Selectors().builder.demoiframe).contents().find("body"),i="theader_",o=0;o<e.length;o++)a.removeClass(i+e[o]);if(!n)return a.addClass(i+a.attr("data-headerstyle")),null;a.addClass(i+n)},{init:function(){n(),e(),a()}}).init()});